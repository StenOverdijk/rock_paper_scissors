<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>

<body>
    <div>
        <h1>
            Computer:
            <span id="computer"></span>
        </h1>
    </div>
    <div>
        <h1>
            Jouw Keuze:
            <span id="human"></span>
        </h1>
    </div>
    <div>
        <h1>
            Uitkomst:
            <span id="result"></span>
        </h1>
    </div>
    <div>
        <button id="steen" type="button">Steen</button>
        <button id="papier" type="button">Papier</button>
        <button id="schaar" type="button">Schaar</button>
    </div>

    <hr>
    </hr>

    <div>
        <h1>Scorebord</h1>
    </div>
    <div>
        <h2>
            Wins:
            <span id="humanWins"></span>
        </h2>
    </div>
    <div>
        <h2>
            Computer wins:
            <span id="computerWins"></span>
        </h2>
    </div>
    <div>
        <h2>
            Gelijkspel:
            <span id="draw"></span>
        </h2>
    </div>

    <hr>
    </hr>

    <div>
        <h1>Streaks</h1>
    </div>
    <div>
        <h3>
            win streak:
            <span id="winStreak"></span>
        </h3>
    </div>
    <div>
        <h3>
            Lose streak:
            <span id="loseStreak"></span>
        </h3>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/tsparticles-confetti@2.9.3/tsparticles.confetti.bundle.min.js"></script>
    <script>
        // Span elements
        const computerOutput = document.querySelector("#computer");
        const humanOutput = document.querySelector("#human");
        const resultOuput = document.querySelector("#result");
        let winCounter = 0;
        let loseCounter = 0;
        let drawCounter = 0;
        const winCounterOutput = document.querySelector("#humanWins");
        const loseCounterOutput = document.querySelector("#computerWins");
        const drawCounterOutput = document.querySelector("#draw");
        let winStreak = 0;
        let loseStreak = 0;
        const winStreakOuput = document.querySelector("#winStreak");
        const loseStreakOutput = document.querySelector("#loseStreak");

        // Button elements
        const btns = document.querySelectorAll("button");

        // Variables
        let humanChoice = "";
        let computerChoice = "";

        // Initialize human output
        humanOutput.innerHTML = "Jouw keuze komt hier, maak je keuze!";

        const showConfetti = function () {
            const count = 200,
                defaults = {
                    origin: { y: 0.7 },
                };

            function fire(particleRatio, opts) {
                confetti(
                    Object.assign({}, defaults, opts, {
                        particleCount: Math.floor(count * particleRatio),
                    })
                );
            }

            fire(0.25, {
                spread: 26,
                startVelocity: 55,
            });

            fire(0.2, {
                spread: 60,
            });

            fire(0.35, {
                spread: 100,
                decay: 0.91,
                scalar: 0.8,
            });

            fire(0.1, {
                spread: 120,
                startVelocity: 25,
                decay: 0.92,
                scalar: 1.2,
            });

            fire(0.1, {
                spread: 120,
                startVelocity: 45,
            });
        }

        const humanMadeChoice = function (event) {
            humanChoice = event.target.id
            humanOutput.innerHTML = humanChoice;
            const randomNumber = Math.floor(Math.random() * 3) + 1;
            switch (randomNumber) {
                case 1:
                    computerChoice = "steen";
                    break;
                case 2:
                    computerChoice = "schaar";
                    break;
                case 3:
                    computerChoice = "papier";
                    break;
            }

            if (randomNumber === 1) {
                computerChoice = 'steen';
            }
            if (randomNumber === 2) {
                computerChoice = 'schaar';
            }
            if (randomNumber === 3) {
                computerChoice = 'papier';
            }
            computerOutput.innerHTML = computerChoice;

            if (humanChoice === computerChoice) {
                resultOuput.innerHTML = "Het is gelijkspel!";
                drawCounter++;
                drawCounterOutput.innerHTML = drawCounter;
                winStreak = 0;
                LoseStreak = 0;
                winStreakOuput.innerHTML = winStreak;
                loseStreakOutput.innerHTML = loseStreak;
            }

            else if (
                (humanChoice === 'steen' && computerChoice === 'schaar') ||
                (humanChoice === 'papier' && computerChoice === 'steen') ||
                (humanChoice === 'schaar' && computerChoice === 'papier')) {
                resultOuput.innerHTML = "Je hebt gewonnen!";
                winCounter++;
                winCounterOutput.innerHTML = winCounter;
                winStreak++;
                loseStreak = 0;
                winStreakOuput.innerHTML = winStreak;
                loseStreakOutput.innerHTML = loseStreak;
                showConfetti();
            }

            else {
                resultOuput.innerHTML = "Je hebt verloren!";
                loseCounter++;
                loseCounterOutput.innerHTML = loseCounter;
                winStreak = 0;
                loseStreak++;
                winStreakOuput.innerHTML = winStreak;
                loseStreakOutput.innerHTML = loseStreak;
            }
        }

        // Button click events
        btns.forEach(btn => btn.addEventListener("click", humanMadeChoice));

    </script>
</body>

</html>